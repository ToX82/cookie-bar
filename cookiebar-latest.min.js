var CookieLanguages=["ca","cs","da","de","en","es","fr","hu","it","nl","pl","pt","ro","ru","se","sk","sl"],cookieLawStates=["AT","BE","BG","CY","CZ","DE","DK","EE","EL","ES","FI","FR","GB","HR","HU","IE","IT","LT","LU","LV","MT","NL","PL","PT","RO","SE","SI","SK"];function setupCookieBar(){var e,t,o,n,a,c,r,l=function(){var e=document.getElementsByTagName("script");for(i=0;i<e.length;i+=1)if(e[i].hasAttribute("src")&&(path=e[i].src,path.indexOf("cookiebar")>-1))return path}(),d=!1,s=!1,m=y();if("CookieDisallowed"==m&&(b(),k("cookiebar","CookieDisallowed")),void 0===m)if(h("noGeoIp"))d=!0,g();else{var u=new XMLHttpRequest;u.open("GET","//api.ipdata.co",!0),u.onreadystatechange=function(){if(4===u.readyState){if(clearTimeout(p),200===u.status){var e=JSON.parse(u.responseText).country_code;cookieLawStates.indexOf(e)>-1?d=!0:(h("autoOptIn")&&k("cookiebar","CookieAllowed"),s=!0)}else d=!0;g()}};var p=setTimeout(function(){console.log("cookieBAR - Timeout for ip geolocation"),u.onreadystatechange=function(){},u.abort(),d=!0,g()},1500);u.send()}function g(){(document.cookie.length>0||window.localStorage.length>0)&&(void 0===y()?d=!0:s=!0);h("always")&&(d=!0),!0===d&&!1===s&&function(){var i=function(){var e=h("forceLang");!1===e&&(e=navigator.language||navigator.userLanguage);e=e.substr(0,2),CookieLanguages.indexOf(e)<0&&(e="en");return e}(),d="";h("theme")&&(d="-"+h("theme"));var s=l.replace(/[^\/]*$/,""),m=l.indexOf(".min")>-1?".min":"",u=document.createElement("link");u.setAttribute("rel","stylesheet"),u.setAttribute("href",s+"cookiebar"+d+m+".css"),document.head.appendChild(u);var p=new XMLHttpRequest;p.open("GET",s+"lang/"+i+".html",!0),p.onreadystatechange=function(){if(4===p.readyState&&200===p.status){var i=document.createElement("div");if(i.innerHTML=p.responseText,document.getElementsByTagName("body")[0].appendChild(i),e=document.getElementById("cookie-bar"),t=document.getElementById("cookie-bar-button"),o=document.getElementById("cookie-bar-button-no"),n=document.getElementById("cookie-bar-prompt"),a=document.getElementById("cookie-bar-prompt-button"),c=document.getElementById("cookie-bar-prompt-close"),document.getElementById("cookie-bar-prompt-content"),r=document.getElementById("cookie-bar-no-consent"),thirdparty=document.getElementById("cookie-bar-thirdparty"),tracking=document.getElementById("cookie-bar-tracking"),scrolling=document.getElementById("cookie-bar-scrolling"),privacyPage=document.getElementById("cookie-bar-privacy-page"),privacyLink=document.getElementById("cookie-bar-privacy-link"),h("showNoConsent")||(r.style.display="none",o.style.display="none"),h("blocking")&&(f(n,500),c.style.display="none"),h("thirdparty")&&(thirdparty.style.display="block"),h("tracking")&&(tracking.style.display="block"),h("hideDetailsBtn")&&(a.style.display="none"),h("scrolling")&&(scrolling.style.display="inline-block"),h("top")?(e.style.top=0,E("top")):(e.style.bottom=0,E("bottom")),h("privacyPage")){var l=decodeURIComponent(h("privacyPage"));privacyLink.href=l,privacyPage.style.display="inline-block"}!function(){if(t.addEventListener("click",function(){k("cookiebar","CookieAllowed"),B(),v(n,250),v(e,250),h("refreshPage")&&window.location.reload()}),o.addEventListener("click",function(){var t=r.textContent.trim();!0===window.confirm(t)&&(b(),k("cookiebar","CookieDisallowed"),B(),v(n,250),v(e,250))}),a.addEventListener("click",function(){f(n,250)}),c.addEventListener("click",function(){v(n,250)}),h("scrolling")){var i=document.body.getBoundingClientRect().top,l=!1;window.addEventListener("scroll",function(){!1===l&&(document.body.getBoundingClientRect().top-i>250||document.body.getBoundingClientRect().top-i<-250)&&(k("cookiebar","CookieAllowed"),B(),v(n,250),v(e,250),l=!0,h("refreshPage")&&window.location.reload())})}}(),f(e,250),E()}},p.send()}()}function y(){var e=document.cookie.match(/(;)?cookiebar=([^;]*);?/);return null==e?void 0:decodeURI(e[2])}function k(e,t){var o=30;h("remember")&&(o=h("remember"));var n=new Date;n.setDate(n.getDate()+parseInt(o));var i=encodeURI(t)+(null===o?"":"; expires="+n.toUTCString()+";path=/");document.cookie=e+"="+i}function b(){document.cookie.split(";").forEach(function(e){document.cookie=e.replace(/^\ +/,"").replace(/\=.*/,"=;expires="+(new Date).toUTCString()+";path=/")}),localStorage.clear()}function f(e,t){var o=e.style;o.opacity=0,o.display="block",function e(){!((o.opacity-=-.1)>.9)&&setTimeout(e,t/10)}()}function v(e,t){var o=e.style;o.opacity=1,function e(){(o.opacity-=.1)<.1?o.display="none":setTimeout(e,t/10)}()}function E(e){setTimeout(function(){var t=document.getElementById("cookie-bar").clientHeight,o=document.getElementsByTagName("body")[0],n=o.currentStyle||window.getComputedStyle(o);switch(e){case"top":o.style.marginTop=parseInt(n.marginTop)+t+"px";break;case"bottom":o.style.marginBottom=parseInt(n.marginBottom)+t+"px"}},300)}function B(){var e=document.getElementById("cookie-bar").clientHeight;if(h("top")){var t=parseInt(document.getElementsByTagName("body")[0].style.marginTop);document.getElementsByTagName("body")[0].style.marginTop=t-e+"px"}else{var o=parseInt(document.getElementsByTagName("body")[0].style.marginBottom);document.getElementsByTagName("body")[0].style.marginBottom=o-e+"px"}}function h(e){var t=l.split(e+"=");return!!t[1]&&t[1].split(/[&?]+/)[0]}}document.addEventListener("DOMContentLoaded",function(){setupCookieBar()});
